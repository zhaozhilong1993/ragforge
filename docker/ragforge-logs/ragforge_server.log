2025-06-16 16:58:26,455 INFO     25 ragforge_server log path: /ragforge/logs/ragforge_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2025-06-16 16:58:29,725 INFO     25 found 0 gpus
2025-06-16 16:58:34,147 INFO     25 init database on cluster mode successfully
2025-06-16 16:58:37,043 INFO     25 load_model /ragforge/rag/res/deepdoc/det.onnx uses CPU
2025-06-16 16:58:37,118 INFO     25 load_model /ragforge/rag/res/deepdoc/rec.onnx uses CPU
2025-06-16 16:58:42,353 INFO     25 
        ____   ___    ______ ______ __               
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ / 
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/                             

    
2025-06-16 16:58:42,354 INFO     25 RAGForge version: v0.19.x-161-gf7074037 full
2025-06-16 16:58:42,354 INFO     25 project base: /ragforge
2025-06-16 16:58:42,354 INFO     25 Current configs, from /ragforge/conf/service_conf.yaml:
	ragforge: {'host': '0.0.0.0', 'http_port': 9380}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql-ragforge', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio-ragforge:9000'}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	redis: {'db': 1, 'password': '********', 'host': 'redis-ragforge:6379'}
2025-06-16 16:58:42,355 WARNING  25 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: 7a8ec04e9bc3d76bc9c424c9d98499b61882bdb3f77309cf64ee4a58e4f0029a
2025-06-16 16:58:42,355 INFO     25 Use Elasticsearch http://es01:9200 as the doc engine.
2025-06-16 16:58:42,436 INFO     25 GET http://es01:9200/ [status:N/A duration:0.079s]
2025-06-16 16:58:42,436 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-06-16 16:58:42,436 WARNING  25 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4076290>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:42,441 INFO     25 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:42,442 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-06-16 16:58:42,442 WARNING  25 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4074cd0>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:42,445 INFO     25 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:42,445 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-06-16 16:58:42,445 WARNING  25 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb40754b0>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:42,448 INFO     25 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:42,449 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-06-16 16:58:42,449 WARNING  25 Connection error caused by: ConnectionError(Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4076290>: Failed to resolve 'es01' ([Errno -2] Name or service not known))). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-06-16 16:58:47,462 INFO     25 GET http://es01:9200/ [status:N/A duration:0.004s]
2025-06-16 16:58:47,463 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-06-16 16:58:47,463 WARNING  25 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4074580>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:47,467 INFO     25 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:47,467 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-06-16 16:58:47,467 WARNING  25 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4075450>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:47,470 INFO     25 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:47,471 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-06-16 16:58:47,471 WARNING  25 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4075480>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:47,474 INFO     25 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:47,474 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-06-16 16:58:47,475 WARNING  25 Connection error caused by: ConnectionError(Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4074580>: Failed to resolve 'es01' ([Errno -2] Name or service not known))). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-06-16 16:58:52,476 INFO     25 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-06-16 16:58:52,482 INFO     25 HEAD http://es01:9200/ [status:N/A duration:0.004s]
2025-06-16 16:58:52,482 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 5 times in a row, putting on 16 second timeout
2025-06-16 16:58:52,482 WARNING  25 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4076b00>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:52,483 INFO     25 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-06-16 16:58:52,485 INFO     25 HEAD http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:52,486 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 6 times in a row, putting on 30 second timeout
2025-06-16 16:58:52,486 WARNING  25 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb4075720>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:52,486 INFO     25 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-06-16 16:58:52,489 INFO     25 HEAD http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:52,489 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 7 times in a row, putting on 30 second timeout
2025-06-16 16:58:52,490 WARNING  25 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb40765f0>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:58:52,492 INFO     25 HEAD http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:58:52,493 WARNING  25 Node <Urllib3HttpNode(http://es01:9200)> has failed for 8 times in a row, putting on 30 second timeout
2025-06-16 16:58:52,493 ERROR    25 Elasticsearch http://es01:9200 is unhealthy in 120s.
2025-06-16 16:59:17,670 INFO     26 ragforge_server log path: /ragforge/logs/ragforge_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2025-06-16 16:59:23,258 INFO     26 found 0 gpus
2025-06-16 16:59:30,059 INFO     26 init database on cluster mode successfully
2025-06-16 16:59:33,859 INFO     26 load_model /ragforge/rag/res/deepdoc/det.onnx uses CPU
2025-06-16 16:59:33,944 INFO     26 load_model /ragforge/rag/res/deepdoc/rec.onnx uses CPU
2025-06-16 16:59:41,429 INFO     26 
        ____   ___    ______ ______ __               
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ / 
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/                             

    
2025-06-16 16:59:41,430 INFO     26 RAGForge version: v0.19.x-161-gf7074037 full
2025-06-16 16:59:41,431 INFO     26 project base: /ragforge
2025-06-16 16:59:41,431 INFO     26 Current configs, from /ragforge/conf/service_conf.yaml:
	ragforge: {'host': '0.0.0.0', 'http_port': 9380}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql-ragforge', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio-ragforge:9000'}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	redis: {'db': 1, 'password': '********', 'host': 'redis-ragforge:6379'}
2025-06-16 16:59:41,432 WARNING  26 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: 7f5ee21c2e4317827aeb314d96927e544ef4ebc8650a8d43e497108547447f56
2025-06-16 16:59:41,432 INFO     26 Use Elasticsearch http://es01:9200 as the doc engine.
2025-06-16 16:59:41,450 INFO     26 GET http://es01:9200/ [status:N/A duration:0.016s]
2025-06-16 16:59:41,450 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-06-16 16:59:41,450 WARNING  26 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed5e70>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:59:41,455 INFO     26 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:59:41,455 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-06-16 16:59:41,456 WARNING  26 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed59c0>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:59:41,459 INFO     26 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:59:41,459 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-06-16 16:59:41,459 WARNING  26 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed7b80>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:59:41,462 INFO     26 GET http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:59:41,462 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-06-16 16:59:41,462 WARNING  26 Connection error caused by: ConnectionError(Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed5e70>: Failed to resolve 'es01' ([Errno -2] Name or service not known))). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-06-16 16:59:46,474 INFO     26 GET http://es01:9200/ [status:N/A duration:0.004s]
2025-06-16 16:59:46,474 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 1 times in a row, putting on 1 second timeout
2025-06-16 16:59:46,474 WARNING  26 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed5cc0>: Failed to establish a new connection: [Errno 111] Connection refused)
2025-06-16 16:59:46,476 INFO     26 GET http://es01:9200/ [status:N/A duration:0.001s]
2025-06-16 16:59:46,476 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 2 times in a row, putting on 2 second timeout
2025-06-16 16:59:46,476 WARNING  26 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed4a30>: Failed to establish a new connection: [Errno 111] Connection refused)
2025-06-16 16:59:46,477 INFO     26 GET http://es01:9200/ [status:N/A duration:0.000s]
2025-06-16 16:59:46,477 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 3 times in a row, putting on 4 second timeout
2025-06-16 16:59:46,477 WARNING  26 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed67d0>: Failed to establish a new connection: [Errno 111] Connection refused)
2025-06-16 16:59:46,478 INFO     26 GET http://es01:9200/ [status:N/A duration:0.000s]
2025-06-16 16:59:46,478 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 4 times in a row, putting on 8 second timeout
2025-06-16 16:59:46,478 WARNING  26 Connection error caused by: ConnectionError(Connection error caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed5cc0>: Failed to establish a new connection: [Errno 111] Connection refused)). Waiting Elasticsearch http://es01:9200 to be healthy.
2025-06-16 16:59:51,485 INFO     26 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-06-16 16:59:51,489 INFO     26 HEAD http://es01:9200/ [status:N/A duration:0.004s]
2025-06-16 16:59:51,490 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 5 times in a row, putting on 16 second timeout
2025-06-16 16:59:51,490 WARNING  26 Retrying request after failure (attempt 0 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed78e0>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:59:51,490 INFO     26 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-06-16 16:59:51,494 INFO     26 HEAD http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:59:51,494 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 6 times in a row, putting on 30 second timeout
2025-06-16 16:59:51,494 WARNING  26 Retrying request after failure (attempt 1 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed7910>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:59:51,494 INFO     26 Resurrected node <Urllib3HttpNode(http://es01:9200)> (force=False)
2025-06-16 16:59:51,497 INFO     26 HEAD http://es01:9200/ [status:N/A duration:0.002s]
2025-06-16 16:59:51,497 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 7 times in a row, putting on 30 second timeout
2025-06-16 16:59:51,497 WARNING  26 Retrying request after failure (attempt 2 of 3)
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_transport.py", line 328, in perform_request
    meta, raw_data = node.perform_request(
  File "/ragforge/.venv/lib/python3.10/site-packages/elastic_transport/_node/_http_urllib3.py", line 202, in perform_request
    raise err from None
elastic_transport.ConnectionError: Connection error caused by: NameResolutionError(<urllib3.connection.HTTPConnection object at 0x7ffeb2ed70a0>: Failed to resolve 'es01' ([Errno -2] Name or service not known))
2025-06-16 16:59:51,500 INFO     26 HEAD http://es01:9200/ [status:N/A duration:0.003s]
2025-06-16 16:59:51,500 WARNING  26 Node <Urllib3HttpNode(http://es01:9200)> has failed for 8 times in a row, putting on 30 second timeout
2025-06-16 16:59:51,501 ERROR    26 Elasticsearch http://es01:9200 is unhealthy in 120s.
2025-06-16 17:04:26,976 INFO     25 ragforge_server log path: /ragforge/logs/ragforge_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2025-06-16 17:04:30,224 INFO     25 found 0 gpus
2025-06-16 17:04:34,646 INFO     25 init database on cluster mode successfully
2025-06-16 17:04:37,447 INFO     25 load_model /ragforge/rag/res/deepdoc/det.onnx uses CPU
2025-06-16 17:04:37,515 INFO     25 load_model /ragforge/rag/res/deepdoc/rec.onnx uses CPU
2025-06-16 17:04:42,684 INFO     25 
        ____   ___    ______ ______ __               
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ / 
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/                             

    
2025-06-16 17:04:42,685 INFO     25 RAGForge version: v0.19.x-161-gf7074037 full
2025-06-16 17:04:42,685 INFO     25 project base: /ragforge
2025-06-16 17:04:42,685 INFO     25 Current configs, from /ragforge/conf/service_conf.yaml:
	ragforge: {'host': '0.0.0.0', 'http_port': 9380}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql-ragforge', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio-ragforge:9000'}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	redis: {'db': 1, 'password': '********', 'host': 'redis-ragforge:6379'}
2025-06-16 17:04:42,686 WARNING  25 SECURITY WARNING: Using auto-generated SECRET_KEY. Generated key: 20f30bec0e7a71cd6a07b2ca49c526581e6372d25b758aa500aad91af1a715e6
2025-06-16 17:04:42,687 INFO     25 Use Elasticsearch http://es01:9200 as the doc engine.
2025-06-16 17:04:42,697 INFO     25 GET http://es01:9200/ [status:200 duration:0.009s]
2025-06-16 17:04:42,698 INFO     25 HEAD http://es01:9200/ [status:200 duration:0.001s]
2025-06-16 17:04:42,699 INFO     25 Elasticsearch http://es01:9200 is healthy.
2025-06-16 17:04:42,702 WARNING  25 Load term.freq FAIL!
2025-06-16 17:04:42,705 WARNING  25 Realtime synonym is disabled, since no redis connection.
2025-06-16 17:04:42,708 WARNING  25 Load term.freq FAIL!
2025-06-16 17:04:42,711 WARNING  25 Realtime synonym is disabled, since no redis connection.
2025-06-16 17:04:42,711 INFO     25 MAX_CONTENT_LENGTH: 10737418240
2025-06-16 17:04:42,712 INFO     25 MAX_FILE_COUNT_PER_USER: 0
2025-06-16 17:04:44,766 INFO     25 init web data success:0.737785816192627
2025-06-16 17:04:44,767 INFO     25 Recursively importing plugins from path `/ragforge/plugin/embedded_plugins`
2025-06-16 17:04:44,769 INFO     25 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2025-06-16 17:04:44,770 INFO     25 RAGForge HTTP server start...
2025-06-16 17:04:44,772 INFO     25 [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:9380
 * Running on http://172.20.0.4:9380
2025-06-16 17:04:44,772 INFO     25 [33mPress CTRL+C to quit[0m
2025-06-16 17:04:45,772 INFO     25 Starting update_progress thread (delayed)
2025-06-16 17:04:45,773 INFO     25 update_progress lock_value: 5cbc8efe-53b2-41fe-986f-baf0c80baf11
2025-06-16 17:05:14,387 ERROR    25 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "/ragforge/.venv/lib/python3.10/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-06-16 17:05:14,391 INFO     25 192.168.65.1 - - [16/Jun/2025 17:05:14] "GET / HTTP/1.1" 200 -
2025-06-16 17:05:22,208 ERROR    25 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "/ragforge/.venv/lib/python3.10/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-06-16 17:05:22,210 INFO     25 192.168.65.1 - - [16/Jun/2025 17:05:22] "GET / HTTP/1.1" 200 -
2025-06-16 17:05:22,247 ERROR    25 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "/ragforge/.venv/lib/python3.10/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-06-16 17:05:22,252 INFO     25 192.168.65.1 - - [16/Jun/2025 17:05:22] "GET /favicon.ico HTTP/1.1" 200 -
2025-06-16 17:07:30,580 ERROR    25 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "/ragforge/.venv/lib/python3.10/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-06-16 17:07:30,584 INFO     25 127.0.0.1 - - [16/Jun/2025 17:07:30] "GET / HTTP/1.0" 200 -
2025-06-16 17:07:30,617 ERROR    25 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "/ragforge/.venv/lib/python3.10/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "/ragforge/.venv/lib/python3.10/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-06-16 17:07:30,618 INFO     25 127.0.0.1 - - [16/Jun/2025 17:07:30] "GET /favicon.ico HTTP/1.0" 200 -
